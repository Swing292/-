[TOC]

# Docker

## 初识Docker

### 项目部署的问题

- 大型项目组件较多，运行环境也较为复杂，部署时会碰到一些问题：
  - **依赖关系复杂**，容易出现兼容性问题
  - 开发、测试、生产环境有差异
- 系统环境差异分析：
  - Linux系统结构和应用的执行原理：
    - 内核与硬件交互，提供操作硬件的**指令**
    - 系统应用封装内核指令为**函数**，便于程序员调用
    - 用户程序基于系统**函数库**实现功能
  - Ubuntu和CentOS都是基于Linux内核，只是**系统应用不同，提供的函数库有差异**

### Docker的解决方案

- Docker是一个**快速交付和运行应用的技术**：
  - 可以将程序及其依赖、运行环境一起打包为一个镜像，可以迁移到任意Linux操作系统
  - 运行时利用沙箱机制形成隔离容器，各个应用互不干扰
  - 运行时利用沙箱机制形成隔离容器，各个应用互不干扰
- Docker如何解决**依赖的兼容问题**的?
  - Docker允许开发中将应用、依赖、函数库、配置**一起打包**，形成可移植镜像
  - Docker应用运行在容器中，使用沙箱机制，相互**隔离**
- Docker如何解决**不同系统环境的问题**?
  - Docker将用户程序与所需要调用的系统（比如Ubuntu）函数库一起打包
  - Docker运行到不同操作系统时，**直接基于打包的库函数，借助于操作系统的Linux内核来运行**

### Docker与虚拟机

- **虚拟机**（virtual machine）是在操作系统中模拟硬件设备，然后运行另一个操作系统

- **docker**是一个系统进程

  <img src="day03.assets/image-20220928225009852.png" alt="image-20220928225009852" style="zoom: 67%;" />

- 区别：

  - docker体积小、启动速度快、性能好
  - 虚拟机体积大、启动速度慢、性能一般

  <img src="day03.assets/image-20220928225034201.png" alt="image-20220928225034201" style="zoom:67%;" />

## Docker的基本操作

## Dockerfile自定义镜像

## Docker-Compose

## Docker镜像服务